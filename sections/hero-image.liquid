<div class="three-image-layout-section" style="padding: 50px 20px; background-color: {{ section.settings.background_color }};">
  <div class="container" style="max-width: 1200px; margin: 0 auto;">
    <div class="three-image-layout">
      
      <!-- Left Image -->
      {% for block in section.blocks %}
        {% if block.type == 'left_image' %}
          <div class="three-image-layout__left-image" {{ block.shopify_attributes }}>
            {% if block.settings.image %}
              <img src="{{ block.settings.image | image_url: width: 400 }}" 
                   alt="{{ block.settings.image.alt | default: 'Left image' }}" 
                   class="three-image-layout__image" 
                   loading="lazy">
            {% else %}
              <div class="placeholder-image">Left Image</div>
            {% endif %}
          </div>
          {% break %}
        {% endif %}
      {% endfor %}

      <!-- Right Image -->
      {% for block in section.blocks %}
        {% if block.type == 'right_image' %}
          <div class="three-image-layout__right-image" {{ block.shopify_attributes }}>
            {% if block.settings.image %}
              <img src="{{ block.settings.image | image_url: width: 400 }}" 
                   alt="{{ block.settings.image.alt | default: 'Right image' }}" 
                   class="three-image-layout__image" 
                   loading="lazy">
            {% else %}
              <div class="placeholder-image">Right Image</div>
            {% endif %}
          </div>
          {% break %}
        {% endif %}
      {% endfor %}

      <!-- Content Section -->
      <div class="three-image-layout__content">
        {% if section.settings.subheading != blank %}
          <p class="subheading">{{ section.settings.subheading }}</p>
        {% endif %}

        {% if section.settings.title != blank %}
          <h2 class="main-heading">{{ section.settings.title }}</h2>
        {% endif %}

        {% if section.settings.description != blank %}
          <p class="description">{{ section.settings.description }}</p>
        {% endif %}

        {% if section.settings.button_text != blank %}
          <div class="button-wrapper">
            <a href="{{ section.settings.button_link | default: '#' }}" 
               class="btn btn-{{ section.settings.button_style }}">
              {{ section.settings.button_text }}
            </a>
          </div>
        {% endif %}
      </div>

      <!-- Bottom Image -->
      {% for block in section.blocks %}
        {% if block.type == 'bottom_image' %}
          <div class="three-image-layout__bottom-image" {{ block.shopify_attributes }}>
            {% if block.settings.image %}
              <img src="{{ block.settings.image | image_url: width: 600 }}" 
                   alt="{{ block.settings.image.alt | default: 'Bottom image' }}" 
                   class="three-image-layout__image" 
                   loading="lazy">
            {% else %}
              <div class="placeholder-image">Bottom Image</div>
            {% endif %}
          </div>
          {% break %}
        {% endif %}
      {% endfor %}

    </div>
  </div>
</div>

<style>
.three-image-layout-section {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  color: #222;
}

.three-image-layout {
  display: grid;
  grid-template-columns: 1fr 2fr 1fr;
  grid-template-rows: auto auto;
  gap: 2rem;
  align-items: center;
  min-height: 60vh;
}

.three-image-layout__left-image {
  grid-column: 1;
  grid-row: 1 / -1;
  justify-self: end;
  padding-right: 1rem;
}

.three-image-layout__right-image {
  grid-column: 3;
  grid-row: 1 / -1;
  justify-self: start;
  padding-left: 1rem;
}

.three-image-layout__content {
  grid-column: 2;
  grid-row: 1;
  text-align: center;
  z-index: 2;
  padding: 2rem 1rem;
}

.three-image-layout__bottom-image {
  grid-column: 2;
  grid-row: 2;
  justify-self: center;
  max-width: 80%;
}

.three-image-layout__image {
  width: 100%;
  height: auto;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  transition: transform 0.3s ease;
}

.three-image-layout__image:hover {
  transform: translateY(-4px);
}

.three-image-layout__left-image .three-image-layout__image {
  max-width: 300px;
}

.three-image-layout__right-image .three-image-layout__image {
  max-width: 300px;
}

.three-image-layout__bottom-image .three-image-layout__image {
  max-width: 400px;
}

.placeholder-image {
  width: 100%;
  height: 250px;
  background-color: #f0f0f0;
  border: 2px dashed #ccc;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 12px;
  color: #666;
  font-size: 1.1rem;
  font-weight: 500;
}

.subheading {
  font-size: 1rem;
  color: #666;
  margin-bottom: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-weight: 500;
}

.main-heading {
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 1rem;
  color: #111;
  line-height: 1.2;
}

.description {
  font-size: 1.1rem;
  line-height: 1.6;
  color: #555;
  margin-bottom: 2rem;
  max-width: 500px;
  margin-left: auto;
  margin-right: auto;
}

.button-wrapper {
  margin-top: 2rem;
}

.btn {
  display: inline-block;
  padding: 14px 28px;
  font-size: 1rem;
  font-weight: 600;
  text-decoration: none;
  border-radius: 8px;
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.btn-solid {
  background-color: #274C3B;
  color: white;
  border-color: #274C3B;
}

.btn-solid:hover {
  background-color: #1a3329;
  border-color: #1a3329;
  transform: translateY(-2px);
}

.btn-outline {
  background-color: transparent;
  color: #274C3B;
  border-color: #274C3B;
}

.btn-outline:hover {
  background-color: #274C3B;
  color: white;
}

.btn-link {
  background-color: transparent;
  color: #274C3B;
  border: none;
  text-decoration: underline;
}

.btn-link:hover {
  color: #1a3329;
  text-decoration: none;
}

/* Mobile Responsive */
@media screen and (max-width: 999px) {
  .three-image-layout {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto auto;
    text-align: center;
    min-height: auto;
    gap: 2rem;
  }

  .three-image-layout__left-image,
  .three-image-layout__right-image,
  .three-image-layout__content,
  .three-image-layout__bottom-image {
    grid-column: 1;
    justify-self: center;
    padding: 0;
  }

  .three-image-layout__content {
    grid-row: 1;
    order: 1;
  }

  .three-image-layout__left-image {
    grid-row: 2;
    order: 2;
  }

  .three-image-layout__right-image {
    grid-row: 3;
    order: 3;
  }

  .three-image-layout__bottom-image {
    grid-row: 4;
    order: 4;
    max-width: 90%;
  }

  .three-image-layout__left-image .three-image-layout__image,
  .three-image-layout__right-image .three-image-layout__image {
    max-width: 280px;
    transform: none;
  }

  .main-heading {
    font-size: 2rem;
  }

  .three-image-layout-section {
    padding: 40px 15px;
  }
}

@media screen and (max-width: 480px) {
  .main-heading {
    font-size: 1.75rem;
  }
  
  .description {
    font-size: 1rem;
  }
  
  .three-image-layout__left-image .three-image-layout__image,
  .three-image-layout__right-image .three-image-layout__image {
    max-width: 250px;
  }
}
</style>

{% schema %}
{
  "name": "Three Image Layout",
  "class": "shopify-section--three-image-layout",
  "settings": [
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "An invitation into our world of crafted luxury"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Main Heading",
      "default": "The Izzari Flagship"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Experience the finest in luxury craftsmanship at our flagship location."
    },
    {
      "type": "header",
      "content": "Button Settings"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Visit Us Today"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button Link"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "Button Style",
      "options": [
        {
          "value": "solid",
          "label": "Solid"
        },
        {
          "value": "outline",
          "label": "Outline"
        },
        {
          "value": "link",
          "label": "Link"
        }
      ],
      "default": "solid"
    }
  ],
  "blocks": [
    {
      "type": "left_image",
      "name": "Left Image",
      "limit": 1,
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Left Image",
          "info": "Recommended size: 300x400px"
        }
      ]
    },
    {
      "type": "right_image",
      "name": "Right Image",
      "limit": 1,
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Right Image",
          "info": "Recommended size: 300x400px"
        }
      ]
    },
    {
      "type": "bottom_image",
      "name": "Bottom Image",
      "limit": 1,
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Bottom Image",
          "info": "Recommended size: 400x300px"
        }
      ]
    }
  ],
  "max_blocks": 3,
  "presets": [
    {
      "name": "Three Image Layout",
      "category": "Custom",
      "blocks": [
        {
          "type": "left_image"
        },
        {
          "type": "right_image"
        },
        {
          "type": "bottom_image"
        }
      ]
    }
  ]
}
{% endschema %}